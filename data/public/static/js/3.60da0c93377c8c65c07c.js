webpackJsonp([3],{AJqI:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"edit",data:function(){return{keyword:"",banners:[{url:"http://www.didichuxing.com/",image:"//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide01.png"},{url:"http://www.didichuxing.com/",image:"//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide02.png"},{url:"http://www.didichuxing.com/",image:"//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide03.png"}],items:[],pageNum:1,pageSize:5,options:{open:{pullDownRefresh:{threshold:50,stop:50,txt:"刷新成功"},pullUpLoad:{threshold:0,txt:{more:"加载更多",noMore:"加载完毕"}}},close:{pullDownRefresh:!1,pullUpLoad:!1}}}},methods:{onPullingDown:function(){var n=this;this.pageNum=1,setTimeout(function(){n.getPageData(n.pageNum,n.pageSize)},200)},onPullingUp:function(){var n=this;this.pageNum++,setTimeout(function(){n.addPageData(n.pageNum,n.pageSize)},300)},search:function(){this.pageNum=1,this.getPageData(this.pageNum,this.pageSize)},getPageData:function(n,t){var e=this;this.axios.get("/api/get",{params:{pageNum:n,pageSize:t,keyword:this.keyword}}).then(function(n){e.$refs.scroll.forceUpdate(),e.items=n.data.data}).catch(function(n){e.$refs.scroll.forceUpdate(),console.log(n)})},addPageData:function(n,t){var e=this;this.axios.get("/api/get",{params:{pageNum:n,pageSize:t,keyword:this.keyword}}).then(function(n){n.data.data.length>0?(e.$refs.scroll.forceUpdate(),e.items=e.items.concat(n.data.data)):(e.$refs.scroll.forceUpdate(),e.pageNum=n.data.totalPage)}).catch(function(n){e.$refs.scroll.forceUpdate(),console.log(n)})},toBack:function(){this.$router.back(-1)},toDelete:function(n,t){var e=this;this.$createDialog({type:"confirm",icon:"",title:"",content:"确认删除此条数据?",confirmBtn:{text:"确定",active:!0,disabled:!1,href:"javascript:;"},cancelBtn:{text:"取消",active:!1,disabled:!1,href:"javascript:;"},onConfirm:function(){e.axios.post("/api/del",{id:n}).then(function(n){1==n.data.status?e.items.splice(t,1):e.$createToast({type:"warn",time:1e3,txt:"删除失败"+n.data.msg}).show()}).catch(function(n){console.log(n)})},onCancel:function(){}}).show()}},created:function(){this.getPageData(this.pageNum,this.pageSize)},filters:{dateFormat:function(n){return new Date(n).toLocaleString()},imgArr:function(n){return n.split(",")}},components:{"photo-preview":e("+1Fr").a}},o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"edit"}},[e("div",{staticClass:"fix-title"},[e("a",{staticClass:"be-back icon iconfont icon-guanbi",attrs:{href:""},on:{click:function(t){return t.preventDefault(),n.toBack(t)}}}),n._v(" "),e("h2",[n._v("商品管理")])]),n._v(" "),e("div",{staticClass:"content"},[e("cube-scroll",{ref:"scroll",attrs:{options:n.options.open},on:{"pulling-down":n.onPullingDown,"pulling-up":n.onPullingUp}},[e("div",{staticClass:"searchBar"},[e("cube-input",{attrs:{placeholder:"请输入关键词搜索",type:"search"},nativeOn:{keydown:function(t){return"button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter")?n.search(t):null}},model:{value:n.keyword,callback:function(t){n.keyword=t},expression:"keyword"}}),n._v(" "),e("a",{staticClass:"icon iconfont icon-sousuo",attrs:{href:""},on:{click:function(t){return t.preventDefault(),n.search(t)}}})],1),n._v(" "),e("div",{staticClass:"photos"},[n._l(n.items,function(t,i){return n.items.length>0?e("div",{staticClass:"photo-list"},[e("a",{staticClass:"delete icon iconfont icon-close",attrs:{href:""},on:{click:function(e){e.preventDefault(),n.toDelete(t.id,i)}}}),n._v(" "),e("div",{staticClass:"grid"},[e("photo-preview",{attrs:{images:n._f("imgArr")(t.images)}})],1),n._v(" "),e("div",{staticClass:"main"},[e("h3",[n._v(n._s(t.title))]),n._v(" "),e("p",{staticClass:"desc"},[n._v(n._s(t.content))]),n._v(" "),e("p",{staticClass:"price"},[e("span",{staticClass:"orig"},[n._v("原价:"),e("b",[n._v(n._s(t.orig_price||"null"))])]),n._v(" "),e("span",{staticClass:"curr"},[n._v("售价:"),e("b",[n._v(n._s(t.curr_price||"null"))])])]),n._v(" "),e("p",{staticClass:"time"},[n._v("发表于 "),e("span",[n._v(n._s(n._f("dateFormat")(t.creat_time)))])]),n._v(" "),e("router-link",{staticClass:"edit-this icon iconfont icon-bianji",attrs:{to:"/edit-this/"+t.id}},[n._v("编辑")])],1)]):n._e()}),n._v(" "),0==n.items.length?e("div",{staticClass:"photo-list",class:[0==n.items.length?"nodata":""]},[e("div",{staticClass:"tip"},[n._v("暂无数据")])]):n._e()],2)])],1)])},staticRenderFns:[]};var a=e("VU/8")(i,o,!1,function(n){e("B3/G")},null,null);t.default=a.exports},"B3/G":function(n,t,e){var i=e("i4C4");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("07476a42",i,!0,{})},i4C4:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,'\n#photos .fix-title>a {\n  position: absolute;\n  right: 0.266667rem;\n  top: 0;\n  font-size: 0.48rem;\n  color: #000;\n}\n#edit .fix-title > a {\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 0 0.266667rem;\n}\n.content {\n  height: calc(100% - 1.173333rem);\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.content .cube-slide-dots > span {\n  height: 0.08rem;\n}\n.cube-slide-item > a img {\n  margin: 0 auto;\n  width: 100%;\n}\n.searchBar {\n  margin: 0.266667rem 0;\n  background-color: #b6b6b6;\n  position: relative;\n}\n.searchBar .cube-input {\n  width: 90%;\n}\n.searchBar a {\n  padding: 0.266667rem 0;\n  width: 10%;\n  text-align: center;\n  font-size: 0.533333rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 0.053333rem;\n  color: #fff;\n}\n.photo-list {\n  background-color: #fff;\n  border-radius: 0.133333rem;\n  position: relative;\n}\n.photo-list .delete {\n  padding: 0.08rem;\n  color: #f00;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: #fff;\n}\n.photo-list.nodata {\n  background-color: transparent;\n}\n.nodata .tip {\n  padding-top: 0.266667rem;\n  font-size: 0.373333rem;\n  text-align: center;\n  color: #999;\n}\n.photo-list .photo-preview img {\n  max-height: 4rem;\n  vertical-align: top;\n}\n.photo-list .grid {\n  padding-top: 0.373333rem;\n}\n.photo-list .main {\n  padding: 0 0.266667rem;\n  font-family: "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", FontAwesome, sans-serif;\n}\n.photo-list .main h3 {\n  text-align: left;\n  font-size: 0.426667rem;\n  font-weight: 600;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.photo-list .main .desc {\n  text-indent: 1em;\n  margin: 0.533333rem 0;\n  font-size: 0.4rem;\n}\n.photo-list .main .price {\n  font-size: 0.373333rem;\n  padding-top: 0.533333rem;\n  margin-bottom: 0.4rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n  -ms-flex-pack: space-evenly;\n  justify-content: space-evenly;\n}\n.price .orig {\n  color: #205cff;\n  text-decoration: line-through;\n}\n.price .curr {\n  color: #ff1425;\n  font-size: 0.4rem;\n}\n.photo-list .main .time {\n  margin-bottom: 0.266667rem;\n  padding-bottom: 0.533333rem;\n  text-align: right;\n  font-size: 0.32rem;\n  color: #999;\n}\n.photo-list .main .edit-this {\n  position: absolute;\n  left: 0.266667rem;\n  bottom: 0.533333rem;\n  font-size: 0.373333rem;\n  color: #00f;\n}',"",{version:3,sources:["C:/Users/Admin/Desktop/study/shop_list/photos/src/components/Edit.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,mBAAmB;EACnB,OAAO;EACP,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,OAAO;EACP,uBAAuB;CACxB;AACD;EACE,iCAAiC;EACjC,eAAe;EACf,kCAAkC;CACnC;AACD;EACE,gBAAgB;CACjB;AACD;EACE,eAAe;EACf,YAAY;CACb;AACD;EACE,sBAAsB;EACtB,0BAA0B;EAC1B,mBAAmB;CACpB;AACD;EACE,WAAW;CACZ;AACD;EACE,uBAAuB;EACvB,WAAW;EACX,mBAAmB;EACnB,uBAAuB;EACvB,mBAAmB;EACnB,SAAS;EACT,OAAO;EACP,2BAA2B;EAC3B,YAAY;CACb;AACD;EACE,uBAAuB;EACvB,2BAA2B;EAC3B,mBAAmB;CACpB;AACD;EACE,iBAAiB;EACjB,YAAY;EACZ,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,uBAAuB;CACxB;AACD;EACE,8BAA8B;CAC/B;AACD;EACE,yBAAyB;EACzB,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,iBAAiB;EACjB,oBAAoB;CACrB;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,uBAAuB;EACvB,wMAAwM;CACzM;AACD;EACE,iBAAiB;EACjB,uBAAuB;EACvB,iBAAiB;EACjB,UAAU;EACV,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,iBAAiB;EACjB,sBAAsB;EACtB,kBAAkB;CACnB;AACD;EACE,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,4BAA4B;EAC5B,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,2BAA2B;EAC3B,4BAA4B;EAC5B,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,kBAAkB;EAClB,oBAAoB;EACpB,uBAAuB;EACvB,YAAY;CACb",file:"Edit.vue",sourcesContent:['\n#photos .fix-title>a {\n  position: absolute;\n  right: 0.266667rem;\n  top: 0;\n  font-size: 0.48rem;\n  color: #000;\n}\n#edit .fix-title > a {\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 0 0.266667rem;\n}\n.content {\n  height: calc(100% - 1.173333rem);\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.content .cube-slide-dots > span {\n  height: 0.08rem;\n}\n.cube-slide-item > a img {\n  margin: 0 auto;\n  width: 100%;\n}\n.searchBar {\n  margin: 0.266667rem 0;\n  background-color: #b6b6b6;\n  position: relative;\n}\n.searchBar .cube-input {\n  width: 90%;\n}\n.searchBar a {\n  padding: 0.266667rem 0;\n  width: 10%;\n  text-align: center;\n  font-size: 0.533333rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 0.053333rem;\n  color: #fff;\n}\n.photo-list {\n  background-color: #fff;\n  border-radius: 0.133333rem;\n  position: relative;\n}\n.photo-list .delete {\n  padding: 0.08rem;\n  color: #f00;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: #fff;\n}\n.photo-list.nodata {\n  background-color: transparent;\n}\n.nodata .tip {\n  padding-top: 0.266667rem;\n  font-size: 0.373333rem;\n  text-align: center;\n  color: #999;\n}\n.photo-list .photo-preview img {\n  max-height: 4rem;\n  vertical-align: top;\n}\n.photo-list .grid {\n  padding-top: 0.373333rem;\n}\n.photo-list .main {\n  padding: 0 0.266667rem;\n  font-family: "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", FontAwesome, sans-serif;\n}\n.photo-list .main h3 {\n  text-align: left;\n  font-size: 0.426667rem;\n  font-weight: 600;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.photo-list .main .desc {\n  text-indent: 1em;\n  margin: 0.533333rem 0;\n  font-size: 0.4rem;\n}\n.photo-list .main .price {\n  font-size: 0.373333rem;\n  padding-top: 0.533333rem;\n  margin-bottom: 0.4rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n  -ms-flex-pack: space-evenly;\n  justify-content: space-evenly;\n}\n.price .orig {\n  color: #205cff;\n  text-decoration: line-through;\n}\n.price .curr {\n  color: #ff1425;\n  font-size: 0.4rem;\n}\n.photo-list .main .time {\n  margin-bottom: 0.266667rem;\n  padding-bottom: 0.533333rem;\n  text-align: right;\n  font-size: 0.32rem;\n  color: #999;\n}\n.photo-list .main .edit-this {\n  position: absolute;\n  left: 0.266667rem;\n  bottom: 0.533333rem;\n  font-size: 0.373333rem;\n  color: #00f;\n}'],sourceRoot:""}])}});
//# sourceMappingURL=3.60da0c93377c8c65c07c.js.map