{"version":3,"sources":["webpack:///./src/components/Photos.vue?fe4d","webpack:///./src/components/Photos.vue?973f","webpack:///src/components/Photos.vue","webpack:///./src/components/Photos.vue?53d9","webpack:///./src/components/Photos.vue"],"names":["content","__webpack_require__","module","i","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","Photos","_this","this","pageSize","_this2","pageNum","_this3","num","pageSz","keyword","then","res","forceUpdate","data","catch","err","_this4","totalPage","_this5","val","toLocaleString","PhotoPreview","components_Photos","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","on","click","$event","preventDefault","checkToken","ref","options","open","pulling-down","onPullingDown","pulling-up","onPullingUp","banners","_l","item","index","key","href","url","src","image","placeholder","type","nativeOn","keydown","_k","keyCode","search","model","value","callback","$$v","expression","items","length","images","_f","_s","title","orig_price","curr_price","creat_time","_e","class","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.5869fc17c578b2b9563d.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26007232\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Photos.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"24cfa90b\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-26007232\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Photos.vue\n// module id = 6phS\n// module chunks = 5","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n#photos .fix-title>a {\\n  position: absolute;\\n  right: 0.266667rem;\\n  top: 0;\\n  font-size: 0.48rem;\\n  color: #000;\\n}\\n#edit .fix-title > a {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  padding: 0 0.266667rem;\\n}\\n.content {\\n  height: calc(100% - 1.173333rem);\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.content .cube-slide-dots > span {\\n  height: 0.08rem;\\n}\\n.cube-slide-item > a img {\\n  margin: 0 auto;\\n  width: 100%;\\n}\\n.searchBar {\\n  margin: 0.266667rem 0;\\n  background-color: #b6b6b6;\\n  position: relative;\\n}\\n.searchBar .cube-input {\\n  width: 90%;\\n}\\n.searchBar a {\\n  padding: 0.266667rem 0;\\n  width: 10%;\\n  text-align: center;\\n  font-size: 0.533333rem;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  border-radius: 0.053333rem;\\n  color: #fff;\\n}\\n.photo-list {\\n  background-color: #fff;\\n  border-radius: 0.133333rem;\\n  position: relative;\\n}\\n.photo-list .delete {\\n  padding: 0.08rem;\\n  color: #f00;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  background-color: #fff;\\n}\\n.photo-list.nodata {\\n  background-color: transparent;\\n}\\n.nodata .tip {\\n  padding-top: 0.266667rem;\\n  font-size: 0.373333rem;\\n  text-align: center;\\n  color: #999;\\n}\\n.photo-list .photo-preview img {\\n  max-height: 4rem;\\n  vertical-align: top;\\n}\\n.photo-list .grid {\\n  padding-top: 0.373333rem;\\n}\\n.photo-list .main {\\n  padding: 0 0.266667rem;\\n  font-family: \\\"Segoe UI\\\", \\\"Lucida Grande\\\", Helvetica, Arial, \\\"Microsoft YaHei\\\", FreeSans, Arimo, \\\"Droid Sans\\\", \\\"wenquanyi micro hei\\\", \\\"Hiragino Sans GB\\\", \\\"Hiragino Sans GB W3\\\", FontAwesome, sans-serif;\\n}\\n.photo-list .main h3 {\\n  text-align: left;\\n  font-size: 0.426667rem;\\n  font-weight: 600;\\n  margin: 0;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.photo-list .main .desc {\\n  text-indent: 1em;\\n  margin: 0.533333rem 0;\\n  font-size: 0.4rem;\\n}\\n.photo-list .main .price {\\n  font-size: 0.373333rem;\\n  padding-top: 0.533333rem;\\n  margin-bottom: 0.4rem;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: space-evenly;\\n  -ms-flex-pack: space-evenly;\\n  justify-content: space-evenly;\\n}\\n.price .orig {\\n  color: #205cff;\\n  text-decoration: line-through;\\n}\\n.price .curr {\\n  color: #ff1425;\\n  font-size: 0.4rem;\\n}\\n.photo-list .main .time {\\n  margin-bottom: 0.266667rem;\\n  padding-bottom: 0.533333rem;\\n  text-align: right;\\n  font-size: 0.32rem;\\n  color: #999;\\n}\\n.photo-list .main .edit-this {\\n  position: absolute;\\n  left: 0.266667rem;\\n  bottom: 0.533333rem;\\n  font-size: 0.373333rem;\\n  color: #00f;\\n}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/Admin/Desktop/study/shop_list/photos/src/components/Photos.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,mBAAmB;EACnB,OAAO;EACP,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,OAAO;EACP,uBAAuB;CACxB;AACD;EACE,iCAAiC;EACjC,eAAe;EACf,kCAAkC;CACnC;AACD;EACE,gBAAgB;CACjB;AACD;EACE,eAAe;EACf,YAAY;CACb;AACD;EACE,sBAAsB;EACtB,0BAA0B;EAC1B,mBAAmB;CACpB;AACD;EACE,WAAW;CACZ;AACD;EACE,uBAAuB;EACvB,WAAW;EACX,mBAAmB;EACnB,uBAAuB;EACvB,mBAAmB;EACnB,SAAS;EACT,OAAO;EACP,2BAA2B;EAC3B,YAAY;CACb;AACD;EACE,uBAAuB;EACvB,2BAA2B;EAC3B,mBAAmB;CACpB;AACD;EACE,iBAAiB;EACjB,YAAY;EACZ,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,uBAAuB;CACxB;AACD;EACE,8BAA8B;CAC/B;AACD;EACE,yBAAyB;EACzB,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,iBAAiB;EACjB,oBAAoB;CACrB;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,uBAAuB;EACvB,wMAAwM;CACzM;AACD;EACE,iBAAiB;EACjB,uBAAuB;EACvB,iBAAiB;EACjB,UAAU;EACV,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,iBAAiB;EACjB,sBAAsB;EACtB,kBAAkB;CACnB;AACD;EACE,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,4BAA4B;EAC5B,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,2BAA2B;EAC3B,4BAA4B;EAC5B,kBAAkB;EAClB,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,kBAAkB;EAClB,oBAAoB;EACpB,uBAAuB;EACvB,YAAY;CACb\",\"file\":\"Photos.vue\",\"sourcesContent\":[\"\\n#photos .fix-title>a {\\n  position: absolute;\\n  right: 0.266667rem;\\n  top: 0;\\n  font-size: 0.48rem;\\n  color: #000;\\n}\\n#edit .fix-title > a {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  padding: 0 0.266667rem;\\n}\\n.content {\\n  height: calc(100% - 1.173333rem);\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.content .cube-slide-dots > span {\\n  height: 0.08rem;\\n}\\n.cube-slide-item > a img {\\n  margin: 0 auto;\\n  width: 100%;\\n}\\n.searchBar {\\n  margin: 0.266667rem 0;\\n  background-color: #b6b6b6;\\n  position: relative;\\n}\\n.searchBar .cube-input {\\n  width: 90%;\\n}\\n.searchBar a {\\n  padding: 0.266667rem 0;\\n  width: 10%;\\n  text-align: center;\\n  font-size: 0.533333rem;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  border-radius: 0.053333rem;\\n  color: #fff;\\n}\\n.photo-list {\\n  background-color: #fff;\\n  border-radius: 0.133333rem;\\n  position: relative;\\n}\\n.photo-list .delete {\\n  padding: 0.08rem;\\n  color: #f00;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  background-color: #fff;\\n}\\n.photo-list.nodata {\\n  background-color: transparent;\\n}\\n.nodata .tip {\\n  padding-top: 0.266667rem;\\n  font-size: 0.373333rem;\\n  text-align: center;\\n  color: #999;\\n}\\n.photo-list .photo-preview img {\\n  max-height: 4rem;\\n  vertical-align: top;\\n}\\n.photo-list .grid {\\n  padding-top: 0.373333rem;\\n}\\n.photo-list .main {\\n  padding: 0 0.266667rem;\\n  font-family: \\\"Segoe UI\\\", \\\"Lucida Grande\\\", Helvetica, Arial, \\\"Microsoft YaHei\\\", FreeSans, Arimo, \\\"Droid Sans\\\", \\\"wenquanyi micro hei\\\", \\\"Hiragino Sans GB\\\", \\\"Hiragino Sans GB W3\\\", FontAwesome, sans-serif;\\n}\\n.photo-list .main h3 {\\n  text-align: left;\\n  font-size: 0.426667rem;\\n  font-weight: 600;\\n  margin: 0;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.photo-list .main .desc {\\n  text-indent: 1em;\\n  margin: 0.533333rem 0;\\n  font-size: 0.4rem;\\n}\\n.photo-list .main .price {\\n  font-size: 0.373333rem;\\n  padding-top: 0.533333rem;\\n  margin-bottom: 0.4rem;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: space-evenly;\\n  -ms-flex-pack: space-evenly;\\n  justify-content: space-evenly;\\n}\\n.price .orig {\\n  color: #205cff;\\n  text-decoration: line-through;\\n}\\n.price .curr {\\n  color: #ff1425;\\n  font-size: 0.4rem;\\n}\\n.photo-list .main .time {\\n  margin-bottom: 0.266667rem;\\n  padding-bottom: 0.533333rem;\\n  text-align: right;\\n  font-size: 0.32rem;\\n  color: #999;\\n}\\n.photo-list .main .edit-this {\\n  position: absolute;\\n  left: 0.266667rem;\\n  bottom: 0.533333rem;\\n  font-size: 0.373333rem;\\n  color: #00f;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-26007232\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Photos.vue\n// module id = Rz8a\n// module chunks = 5","<template>\n  <div id=\"photos\">\n    <div class=\"fix-title\">\n      <h2>相册</h2>\n      <a @click.prevent=\"checkToken\" class=\"icon iconfont icon-guanliyuan\"></a>\n    </div>\n    <div class=\"content\">\n      <cube-scroll\n          ref=\"scroll\"\n          :options=\"options.open\"\n          @pulling-down=\"onPullingDown\"\n          @pulling-up=\"onPullingUp\">\n        \n        <!--banner-->\n        <cube-slide ref=\"slide\" :data=\"banners\">\n          <cube-slide-item v-for=\"(item, index) in banners\" :key=\"index\">\n            <a :href=\"item.url\">\n              <img :src=\"item.image\">\n            </a>\n          </cube-slide-item>\n        </cube-slide>\n        \n        <!--Search-->\n        <div class=\"searchBar\">\n          <cube-input\n              v-model=\"keyword\"\n              placeholder=\"请输入关键词搜索\"\n              type=\"search\"\n              @keydown.enter.native=\"search\"\n          ></cube-input>\n          <a href=\"\" @click.prevent=\"search\" class=\"icon iconfont icon-sousuo\"></a>\n        </div>\n        \n        <div class=\"photos\">\n          <div class=\"photo-list\" v-if=\"items.length>0\" v-for=\"item in items\">\n            <div class=\"grid\">\n              <!--{{item.images.split(',')}}-->\n              <photo-preview :images = \"item.images | imgArr\"></photo-preview>\n            </div>\n            <div class=\"main\">\n              <h3>{{item.title}}</h3>\n              <p class=\"desc\">{{item.content}}</p>\n              <p class=\"price\">\n                <span class=\"orig\">原价:<b>{{item.orig_price || 'null'}}</b></span>\n                <span class=\"curr\">售价:<b>{{item.curr_price || 'null'}}</b></span>\n              </p>\n              <p class=\"time\">发表于 <span>{{item.creat_time | dateFormat}}</span></p>\n            </div>\n          </div>\n          <div class=\"photo-list\" :class=\"[items.length==0 ? 'nodata' : '']\" v-if=\"items.length==0\">\n            <div class=\"tip\">暂无数据</div>\n          </div>\n        </div>\n        \n      </cube-scroll>\n    </div>\n  </div>\n</template>\n\n<script>\n  import PhotoPreview from '../components/PhotoPreview'\n  import cookies from 'js-cookies'\n  \n  export default {\n    name: 'photos',\n    data() {\n      return {\n        keyword: '',\n        banners: [\n          {\n            url: 'http://www.didichuxing.com/',\n            image: '//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide01.png'\n          },\n          {\n            url: 'http://www.didichuxing.com/',\n            image: '//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide02.png'\n          },\n          {\n            url: 'http://www.didichuxing.com/',\n            image: '//webapp.didistatic.com/static/webapp/shield/cube-ui-examples-slide03.png'\n          }\n        ],\n        // images: [],\n        items: [],\n        pageNum: 1,\n        pageSize: 5,\n        // 上拉刷新下拉加载选项\n        options: {\n          open: {\n            pullDownRefresh: {\n              threshold: 50,\n              stop: 50,\n              txt: '刷新成功'\n            },\n            pullUpLoad: {\n              threshold: 0,\n              txt: {\n                more: '加载更多',\n                noMore: '加载完毕'\n              }\n            }\n          },\n          close: {\n            pullDownRefresh: false,\n            pullUpLoad: false\n          }\n        }\n      }\n    },\n    methods: {\n      // 下拉刷新\n      onPullingDown() {\n        // 更新数据\n        this.pageNum = 1;\n        setTimeout(()=>{\n          this.getPageData(this.pageNum,this.pageSize)\n        }, 200)\n      },\n      // 上拉加载\n      onPullingUp() {\n        // 更新数据\n        this.pageNum++;\n        setTimeout(()=>{\n          this.addPageData(this.pageNum,this.pageSize)\n        }, 200)\n        \n      },\n      // 搜索关键词\n      search() {\n        // 初始化页码\n        this.pageNum = 1;\n        this.getPageData(this.pageNum,this.pageSize)\n      },\n      // 获取某页数据\n      getPageData(num,pageSz) {\n        this.axios.get('/api/get', {\n          params: {\n            pageNum: num,\n            pageSize: pageSz,\n            keyword: this.keyword\n          }\n        })\n        .then((res) => {\n          this.$refs.scroll.forceUpdate()\n          this.items = res.data.data;\n        })\n        .catch((err) => {\n          this.$refs.scroll.forceUpdate()\n          console.log(err);\n        })\n        \n      },\n      // 获取某页数据拼接原来数据显示\n      addPageData(num,pageSz) {\n        this.axios.get('/api/get', {\n          params: {\n            pageNum: num,\n            pageSize: pageSz,\n            keyword: this.keyword\n          }\n        })\n        .then((res) => {\n          if (res.data.data.length > 0) {\n            // 如果有新数据,拼接到旧数据后面\n            this.$refs.scroll.forceUpdate()\n            this.items = this.items.concat(res.data.data)\n          } else {\n            // 如果没有新数据\n            this.$refs.scroll.forceUpdate()\n            this.pageNum = res.data.totalPage;\n          }\n        })\n        .catch((err) => {\n          this.$refs.scroll.forceUpdate()\n          console.log(err);\n        })\n        \n      },\n      // 判断token\n      checkToken(){\n        // 发送校验token请求\n        this.axios.post('/api/checktoken')\n        .then((res)=>{\n          if(res.data.status==1){\n            this.$router.push('/admin')\n          }else {\n            this.$router.push('/login')\n          }\n        })\n        .catch((err)=>{\n          console.log(err);\n        })\n      }\n    },\n    created: function () {\n      this.getPageData(this.pageNum,this.pageSize)\n    },\n    filters: {\n      // 后台日期格式化\n      dateFormat(val) {\n        var date = new Date(val);\n        return date.toLocaleString();\n      },\n      // 图片字符串转换成数组\n      imgArr(val) {\n        return val.split(',');\n      }\n    },\n    components: {\n      'photo-preview': PhotoPreview\n    }\n  }\n</script>\n\n<style>\n  @import \"../assets/css/photo_list.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Photos.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"photos\"}},[_c('div',{staticClass:\"fix-title\"},[_c('h2',[_vm._v(\"相册\")]),_vm._v(\" \"),_c('a',{staticClass:\"icon iconfont icon-guanliyuan\",on:{\"click\":function($event){$event.preventDefault();return _vm.checkToken($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('cube-scroll',{ref:\"scroll\",attrs:{\"options\":_vm.options.open},on:{\"pulling-down\":_vm.onPullingDown,\"pulling-up\":_vm.onPullingUp}},[_c('cube-slide',{ref:\"slide\",attrs:{\"data\":_vm.banners}},_vm._l((_vm.banners),function(item,index){return _c('cube-slide-item',{key:index},[_c('a',{attrs:{\"href\":item.url}},[_c('img',{attrs:{\"src\":item.image}})])])})),_vm._v(\" \"),_c('div',{staticClass:\"searchBar\"},[_c('cube-input',{attrs:{\"placeholder\":\"请输入关键词搜索\",\"type\":\"search\"},nativeOn:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_vm._v(\" \"),_c('a',{staticClass:\"icon iconfont icon-sousuo\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.search($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"photos\"},[_vm._l((_vm.items),function(item){return (_vm.items.length>0)?_c('div',{staticClass:\"photo-list\"},[_c('div',{staticClass:\"grid\"},[_c('photo-preview',{attrs:{\"images\":_vm._f(\"imgArr\")(item.images)}})],1),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('h3',[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('p',{staticClass:\"price\"},[_c('span',{staticClass:\"orig\"},[_vm._v(\"原价:\"),_c('b',[_vm._v(_vm._s(item.orig_price || 'null'))])]),_vm._v(\" \"),_c('span',{staticClass:\"curr\"},[_vm._v(\"售价:\"),_c('b',[_vm._v(_vm._s(item.curr_price || 'null'))])])]),_vm._v(\" \"),_c('p',{staticClass:\"time\"},[_vm._v(\"发表于 \"),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(item.creat_time)))])])])]):_vm._e()}),_vm._v(\" \"),(_vm.items.length==0)?_c('div',{staticClass:\"photo-list\",class:[_vm.items.length==0 ? 'nodata' : '']},[_c('div',{staticClass:\"tip\"},[_vm._v(\"暂无数据\")])]):_vm._e()],2)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-26007232\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Photos.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26007232\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Photos.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Photos.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Photos.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26007232\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Photos.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Photos.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}