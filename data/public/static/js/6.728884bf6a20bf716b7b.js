webpackJsonp([6],{CqQ8:function(t,e,a){var i=a("jZvK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("01fa5d4f",i,!0,{})},jZvK:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.fix-title>a[data-v-1eac2b53] {\n  padding: 0 0.266667rem;\n  position: absolute;\n  left: 0;\n  top: 0;\n  font-size: 0.426667rem;\n}\n[data-v-1eac2b53] .photo-preview img {\n  max-height: 5.333333rem;\n  vertical-align: top;\n}\nform[data-v-1eac2b53] {\n  padding: 0.266667rem;\n  font-size: 0.48rem;\n}\n.item[data-v-1eac2b53] {\n  margin-top: 0.266667rem;\n}\n.cube-btn-primary[data-v-1eac2b53] {\n  margin-top: 0.533333rem;\n}\n.item label>i[data-v-1eac2b53] {\n  color: #e64340;\n  vertical-align: middle;\n  margin-right: 0.133333rem;\n}",""])},zubr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"edit-this",data:function(){return{id:this.$route.params.id,title:"",content:"",origPrice:null,currPrice:null,images:[]}},methods:{updateData:function(){var t=this;""!=this.title&&""!=this.content?this.axios.post("/api/update",{id:this.id,title:this.title,content:this.content,origPrice:this.origPrice,currPrice:this.currPrice}).then(function(e){1==e.data.return?(t.$createToast({type:"warn",time:1e3,txt:"修改成功!"}).show(),setTimeout(function(){t.toBack()},1200)):console.log("修改失败"+e.data.msg)}).catch(function(t){console.log(t)}):this.$createToast({type:"warn",time:1e3,txt:"标题和内容不能为空!"}).show()},getData:function(t){var e=this;this.axios.get("/api/getforid",{params:{id:t}}).then(function(t){console.log(t.data.data),e.images=t.data.data.images,e.title=t.data.data.title,e.content=t.data.data.content,e.origPrice=t.data.data.orig_price,e.currPrice=t.data.data.curr_price}).catch(function(t){console.log(t)})},toBack:function(){this.$router.back(-1)}},created:function(){this.getData(this.id)},filters:{imgArr:function(t){return t.split(",")}},components:{"photo-preview":a("+1Fr").a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-this"},[a("div",{staticClass:"fix-title"},[a("a",{staticClass:"be-back icon iconfont icon-guanbi",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toBack(e)}}}),t._v(" "),a("h2",[t._v("商品编辑")])]),t._v(" "),t.images.length>0?a("photo-preview",{attrs:{images:t._f("imgArr")(t.images),showDel:!0}}):t._e(),t._v(" "),a("form",{attrs:{method:"post",enctype:"multipart/form-data",action:""},on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("div",{staticClass:"item"},[t._m(0),t._v(" "),a("cube-input",{attrs:{clearable:!0,placeholder:"请输入商品标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),a("div",{staticClass:"item"},[t._m(1),t._v(" "),a("cube-textarea",{attrs:{maxlength:500,placeholder:"请输入商品介绍"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{attrs:{for:""}},[t._v("原价：")]),t._v(" "),a("cube-input",{attrs:{clearable:!0,type:"number",placeholder:"请输入商品原价"},model:{value:t.origPrice,callback:function(e){t.origPrice=e},expression:"origPrice"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("label",{attrs:{for:""}},[t._v("售价：")]),t._v(" "),a("cube-input",{attrs:{clearable:!0,type:"number",placeholder:"请输入商品售价"},model:{value:t.currPrice,callback:function(e){t.currPrice=e},expression:"currPrice"}})],1),t._v(" "),a("cube-button",{attrs:{primary:!0,type:"submit"}},[t._v("提交")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[e("i",[this._v("*")]),this._v("标题：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[e("i",[this._v("*")]),this._v("内容：")])}]};var r=a("VU/8")(i,n,!1,function(t){a("CqQ8")},"data-v-1eac2b53",null);e.default=r.exports}});