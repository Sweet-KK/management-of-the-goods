webpackJsonp([4],{"8mnm":function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,'\n#photos .fix-title>a {\n  position: absolute;\n  right: 0.266667rem;\n  top: 0;\n  font-size: 0.48rem;\n  color: #000;\n}\n#edit .fix-title > a {\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 0 0.266667rem;\n}\n.content {\n  height: calc(100% - 1.173333rem);\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.content .cube-slide-dots > span {\n  height: 0.08rem;\n}\n.cube-slide-item > a img {\n  margin: 0 auto;\n  width: 100%;\n  max-height: 4rem;\n}\n.searchBar {\n  margin: 0.266667rem 0;\n  background-color: #b6b6b6;\n  position: relative;\n}\n.searchBar .cube-input {\n  width: 90%;\n}\n.searchBar a {\n  padding: 0.266667rem 0;\n  width: 10%;\n  text-align: center;\n  font-size: 0.533333rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 0.053333rem;\n  color: #fff;\n}\n.photo-list {\n  background-color: #fff;\n  border-radius: 0.133333rem;\n  position: relative;\n}\n.photo-list .delete {\n  padding: 0.08rem;\n  color: #f00;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: #fff;\n}\n.photo-list.nodata {\n  background-color: transparent;\n}\n.nodata .tip {\n  padding-top: 0.266667rem;\n  font-size: 0.373333rem;\n  text-align: center;\n  color: #999;\n}\n.photo-list .photo-preview img {\n  max-height: 4rem;\n  vertical-align: top;\n}\n.photo-list .grid {\n  padding-top: 0.373333rem;\n}\n.photo-list .main {\n  padding: 0 0.266667rem;\n  font-family: "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", FontAwesome, sans-serif;\n}\n.photo-list .main h3 {\n  text-align: left;\n  font-size: 0.426667rem;\n  font-weight: 600;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.photo-list .main .desc {\n  text-indent: 1em;\n  margin: 0.533333rem 0;\n  font-size: 0.4rem;\n}\n.photo-list .main .price {\n  font-size: 0.373333rem;\n  padding-top: 0.533333rem;\n  margin-bottom: 0.4rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n  -ms-flex-pack: space-evenly;\n  justify-content: space-evenly;\n}\n.price .orig {\n  color: #205cff;\n  text-decoration: line-through;\n}\n.price .curr {\n  color: #ff1425;\n  font-size: 0.4rem;\n}\n.photo-list .main .time {\n  margin-bottom: 0.266667rem;\n  padding-bottom: 0.533333rem;\n  text-align: right;\n  font-size: 0.32rem;\n  color: #999;\n}\n.photo-list .main .edit-this {\n  position: absolute;\n  left: 0.266667rem;\n  bottom: 0.533333rem;\n  font-size: 0.373333rem;\n  color: #00f;\n}',""])},L6Xu:function(t,n,e){var i=e("8mnm");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("0c8b2017",i,!0,{})},stTf:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={name:"photos",data:function(){return{keyword:"",banners:[{url:"http://www.szwego.com/static/index.html#/shop_detail/A2018030821185676270",image:"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=979372710,1813498372&fm=58"},{url:"http://www.szwego.com/static/index.html#/shop_detail/A2018030821185676270",image:"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=107759299,109922674&fm=58"},{url:"http://www.szwego.com/static/index.html#/shop_detail/A2018030821185676270",image:"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3596500674,1367887467&fm=58"}],items:[],pageNum:1,pageSize:5,options:{open:{pullDownRefresh:{threshold:50,stop:50,txt:"刷新成功"},pullUpLoad:{threshold:0,txt:{more:"加载更多",noMore:"加载完毕"}}},close:{pullDownRefresh:!1,pullUpLoad:!1}}}},methods:{onPullingDown:function(){var t=this;this.pageNum=1,setTimeout(function(){t.getPageData(t.pageNum,t.pageSize)},200)},onPullingUp:function(){var t=this;this.pageNum++,setTimeout(function(){t.addPageData(t.pageNum,t.pageSize)},200)},search:function(){this.pageNum=1,this.getPageData(this.pageNum,this.pageSize)},getPageData:function(t,n){var e=this;this.axios.get("/api/get",{params:{pageNum:t,pageSize:n,keyword:this.keyword}}).then(function(t){1==t.data.return&&(e.items=t.data.data),e.$refs.scroll.forceUpdate()}).catch(function(t){e.$refs.scroll.forceUpdate(),console.log(t)})},addPageData:function(t,n){var e=this;this.axios.get("/api/get",{params:{pageNum:t,pageSize:n,keyword:this.keyword}}).then(function(t){console.log(t),1==t.data.return?(e.$refs.scroll.forceUpdate(),e.items=e.items.concat(t.data.data)):(e.$refs.scroll.forceUpdate(),e.pageNum--)}).catch(function(t){e.$refs.scroll.forceUpdate(),console.log(t)})},checkToken:function(){var t=this;this.axios.post("/api/checktoken").then(function(n){1==n.data.return?t.$router.push("/admin"):t.$router.push("/login")}).catch(function(t){console.log(t)})}},created:function(){this.getPageData(this.pageNum,this.pageSize)},filters:{imgArr:function(t){return t.split(",")}},components:{"photo-preview":e("+1Fr").a}},o={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"photos"}},[e("div",{staticClass:"fix-title"},[e("h2",[t._v("相册")]),t._v(" "),e("a",{staticClass:"icon iconfont icon-guanliyuan",on:{click:function(n){return n.preventDefault(),t.checkToken(n)}}})]),t._v(" "),e("div",{staticClass:"content"},[e("cube-scroll",{ref:"scroll",attrs:{options:t.options.open},on:{"pulling-down":t.onPullingDown,"pulling-up":t.onPullingUp}},[e("cube-slide",{ref:"slide",attrs:{data:t.banners}},t._l(t.banners,function(t,n){return e("cube-slide-item",{key:n},[e("a",{attrs:{href:t.url}},[e("img",{attrs:{src:t.image}})])])})),t._v(" "),e("div",{staticClass:"searchBar"},[e("cube-input",{attrs:{placeholder:"请输入关键词搜索",type:"search"},nativeOn:{keydown:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.search(n):null}},model:{value:t.keyword,callback:function(n){t.keyword=n},expression:"keyword"}}),t._v(" "),e("a",{staticClass:"icon iconfont icon-sousuo",attrs:{href:""},on:{click:function(n){return n.preventDefault(),t.search(n)}}})],1),t._v(" "),e("div",{staticClass:"photos"},[t._l(t.items,function(n){return t.items.length>0?e("div",{staticClass:"photo-list"},[e("div",{staticClass:"grid"},[e("photo-preview",{attrs:{images:t._f("imgArr")(n.images)}})],1),t._v(" "),e("div",{staticClass:"main"},[e("h3",[t._v(t._s(n.title))]),t._v(" "),e("p",{staticClass:"desc"},[t._v(t._s(n.content))]),t._v(" "),e("p",{staticClass:"price"},[e("span",{staticClass:"orig"},[t._v("原价:"),e("b",[t._v(t._s(n.orig_price||"null"))])]),t._v(" "),e("span",{staticClass:"curr"},[t._v("售价:"),e("b",[t._v(t._s(n.curr_price||"null"))])])]),t._v(" "),e("p",{staticClass:"time"},[t._v("发表于 "),e("span",[t._v(t._s(t.moment(n.update_time).format("YYYY-MM-DD HH:mm:ss")))])])])]):t._e()}),t._v(" "),0==t.items.length?e("div",{staticClass:"photo-list",class:[0==t.items.length?"nodata":""]},[e("div",{staticClass:"tip"},[t._v("暂无数据")])]):t._e()],2)],1)],1)])},staticRenderFns:[]};var a=e("VU/8")(i,o,!1,function(t){e("L6Xu")},null,null);n.default=a.exports}});